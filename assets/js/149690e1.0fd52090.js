"use strict";(globalThis.webpackChunkdev_tips=globalThis.webpackChunkdev_tips||[]).push([[1736],{165:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/sequence-fb8d800b55f1063e2161bbf4b817d7da.png"},292:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/identity-aa00147d61ae03bd8146179b194125c9.PNG"},974:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/demo-sql-management-c5b62e1c382f9aef4ff36a4e5c2ffae7.png"},1138:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/autres-donnes-349383591c31f7b4f527e9979bf650f4.png"},1426:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/char-312d0a44718b540b265a6be7965a9110.PNG"},3114:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/synonyme-77a21a6ace784613ca270508bd4cc21e.PNG"},3510:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/date-c5f176541f648ab56070ec55b44fa4ac.png"},3670:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"H2WM/SQL/M3-DDL","title":"Le langage de requ\xeate SQL avec SQL Server","description":"DDL : La gestion de la structure de la base de donn\xe9es","source":"@site/docs/H2WM/SQL/M3-DDL.md","sourceDirName":"H2WM/SQL","slug":"/H2WM/SQL/M3-DDL","permalink":"/dev-tips/docs/H2WM/SQL/M3-DDL","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Le langage de requ\xeate SQL avec SQL Server","permalink":"/dev-tips/docs/H2WM/SQL/M2-Le-langage-SQL"},"next":{"title":"Tutorial Intro","permalink":"/dev-tips/docs/intro"}}');var i=s(4848),r=s(8453);const l={sidebar_position:3},a="Le langage de requ\xeate SQL avec SQL Server",d={},c=[{value:"DDL : La gestion de la structure de la base de donn\xe9es",id:"ddl--la-gestion-de-la-structure-de-la-base-de-donn\xe9es",level:2},{value:"La Cr\xe9ation des tables - CREATE TABLE",id:"la-cr\xe9ation-des-tables---create-table",level:3},{value:"Convention d&#39;\xe9criture",id:"convention-d\xe9criture",level:3},{value:"Les types de donn\xe9es pour SQL Server",id:"les-types-de-donn\xe9es-pour-sql-server",level:3},{value:"Mise en oeuvre de l&#39;int\xe9grit\xe9 des donn\xe9es",id:"mise-en-oeuvre-de-lint\xe9grit\xe9-des-donn\xe9es",level:3},{value:"MODIFICATION DE TABLE - ALTER TABLE",id:"modification-de-table---alter-table",level:3},{value:"MODIFICATION DES CONTRAINTES - ALTER TABLE",id:"modification-des-contraintes---alter-table",level:3},{value:"Les Valeurs auto-incr\xe9ment\xe9es",id:"les-valeurs-auto-incr\xe9ment\xe9es",level:3}];function o(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"le-langage-de-requ\xeate-sql-avec-sql-server",children:"Le langage de requ\xeate SQL avec SQL Server"})}),"\n",(0,i.jsx)(n.h2,{id:"ddl--la-gestion-de-la-structure-de-la-base-de-donn\xe9es",children:"DDL : La gestion de la structure de la base de donn\xe9es"}),"\n",(0,i.jsx)(n.p,{children:"Voir l'image pour commencer avec management SQL"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(974).A+"",width:"1280",height:"720"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(9563).A+"",width:"1916",height:"1012"})}),"\n",(0,i.jsx)(n.h3,{id:"la-cr\xe9ation-des-tables---create-table",children:"La Cr\xe9ation des tables - CREATE TABLE"}),"\n",(0,i.jsxs)(n.p,{children:['On termine la requ\xeate par un ";"\r\n',(0,i.jsx)(n.img,{alt:"alt text",src:s(3953).A+"",width:"866",height:"380"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"CREATE TABLE clients(\r\n-- nom de colonnes Types,\r\nid_client INT,\r\nnom VARCHAR(50),\r\nprenom VARCHAR (40),\r\ndate_naissance DATE,\r\nville VARCHAR(50),\r\nportable NUMERIC(10),\r\nfixe NUMERIC(10)\r\n);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"convention-d\xe9criture",children:"Convention d'\xe9criture"}),"\n",(0,i.jsx)(n.p,{children:"Les mots cl\xe9s SQL en majuscules (ex : CREATE TABLE)\r\nNom des tables au pluriel et en snake_case (ex : Conges_mens)\r\nNom des colonnes explicites, en minuscule et snale_case(ex : date_modif)\r\nR\xe8gles de nommages coh\xe9rentes"}),"\n",(0,i.jsx)(n.h3,{id:"les-types-de-donn\xe9es-pour-sql-server",children:"Les types de donn\xe9es pour SQL Server"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Cract\xe8re\r\n",(0,i.jsx)(n.img,{alt:"alt text",src:s(1426).A+"",width:"732",height:"369"}),"\r\nOn utilise surtout CHAR et VARCHAR"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Num\xe9riques\r\n",(0,i.jsx)(n.img,{alt:"alt text",src:s(7801).A+"",width:"822",height:"390"}),"\r\nOn privil\xe9gie le NUMERIC au FLOAT"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Date\r\n",(0,i.jsx)(n.img,{alt:"alt text",src:s(3510).A+"",width:"808",height:"386"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Autres\r\n",(0,i.jsx)(n.img,{alt:"alt text",src:s(1138).A+"",width:"783",height:"382"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ce sont les types propri\xe9aire du SGBT de SQL SErver"}),"\n",(0,i.jsx)(n.p,{children:"on utilise pas les standards de la norme pour des questions de perfs."}),"\n",(0,i.jsxs)(n.p,{children:["Pour info :\r\n",(0,i.jsx)(n.img,{alt:"alt text",src:s(3114).A+"",width:"626",height:"358"})]}),"\n",(0,i.jsx)(n.p,{children:"attention : derni\xe8re ligne invers\xe9e"}),"\n",(0,i.jsx)(n.h3,{id:"mise-en-oeuvre-de-lint\xe9grit\xe9-des-donn\xe9es",children:"Mise en oeuvre de l'int\xe9grit\xe9 des donn\xe9es"}),"\n",(0,i.jsx)(n.p,{children:"Objectifs:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Assurer la coh\xe9rence des donn\xe9es"}),"\n",(0,i.jsx)(n.li,{children:"Appliquer les r\xe8gles de fonctionnement issues de l'analyse"}),"\n",(0,i.jsx)(n.li,{children:"Tradutcion des r\xe8gles du mod\xe8le relationnel"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Mise en oeuvre"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Attribut requis (NULL = pas OBLIGATOIRE /NOT NULL =  OBLIGARTOIRE)"}),"\n",(0,i.jsx)(n.li,{children:"Contrainte (CONSTRAINT)"}),"\n",(0,i.jsx)(n.li,{children:"D\xe9clencheur de base de donn\xe9es (TRIGGER)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"CONTRAINTE :"}),"\n",(0,i.jsx)(n.p,{children:"Syntaxe : CONSTRAINT NOM (typeDeContrainte_nomTable[_compementInfos]) TYPE de contrainte"}),"\n",(0,i.jsx)(n.p,{children:"exemple :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"CONSTRAINT PK_Clients PRIMARY KEY\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(5517).A+"",width:"791",height:"297"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(4790).A+"",width:"621",height:"365"})}),"\n",(0,i.jsxs)(n.p,{children:["Ces trois mots-cl\xe9s SQL sont des ",(0,i.jsx)(n.strong,{children:"contraintes fondamentales"}),"\r\npour l'int\xe9grit\xe9 et la coh\xe9rence des donn\xe9es"]}),"\n",(0,i.jsxs)(n.p,{children:["PRIMARY KEY pour cl\xe9 primaire  | ",(0,i.jsx)(n.strong,{children:"Unicit\xe9"}),(0,i.jsx)(n.br,{}),"\n","UNIQUE pour une cl\xe9 secondaire | ",(0,i.jsx)(n.strong,{children:"Unicit\xe9"}),(0,i.jsx)(n.br,{}),"\n","CHECK pour v\xe9rifier/tester (d\xe9finit une condition) | ",(0,i.jsx)(n.strong,{children:"Restreint le Domaine des Valeurs"}),(0,i.jsx)(n.br,{}),"\n","DEFAULT 'mettre valeur par d\xe9fault'"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(8116).A+"",width:"612",height:"359"})}),"\n",(0,i.jsx)(n.p,{children:"Exemple :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"--------demo 1------------\r\nCREATE TABLE Clients(\r\n-- nom de colonnes Types,\r\n\t-- Cl\xe9 Primaire\r\n\tid_client\t\tINT\tNOT NULL CONSTRAINT PK_Clients PRIMARY KEY,\r\n\tnom\t\t\t\tVARCHAR(50)\tNOT NULL,\r\n\tprenom\t\t\tVARCHAR (40) NULL,\r\n\t-- Contrainte d'\xe2ge: assure que la personne est n\xe9e (date ant\xe9rieure \xe0 la date actuelle)\r\n\tdate_naissance\tDATE NULL CONSTRAINT CK_Clients_dateNaissance CHECK (date_naissance < GETDATE()),\r\n\t-- Valeur par d\xe9faut si non sp\xe9cifi\xe9e\r\n\tville\t\t\tVARCHAR(50) NOT NULL DEFAULT 'Nantes',\r\n\t-- Cl\xe9 secondaire\r\n\tportable\t\tNUMERIC(10) NULL CONSTRAINT UN_Clients_portable UNIQUE,\r\n\tfixe\t\t\tNUMERIC(10) NULL,\r\n\t-- Contrainte d'unicit\xe9 composite (Cl\xe9 Secondaire)\r\n\tCONSTRAINT UN_Clients_nomPrenomDateNaissance UNIQUE (nom,prenom,date_naissance),\r\n\t-- Contrainte CHECK : au moins un t\xe9l\xe9phone doit \xeatre renseign\xe9\r\n\tCONSTRAINT CK_Clients_telephone CHECK (portable IS NOT NULL OR fixe IS NOT NULL)\r\n);\n"})}),"\n",(0,i.jsx)(n.p,{children:"L'int\xe9grit\xe9 r\xe9f\xe9rentiel :"}),"\n",(0,i.jsx)(n.p,{children:"Gr\xe2ce au Cl\xe9 \xe9trang\xe8re"}),"\n",(0,i.jsx)(n.p,{children:"D\xe9finition"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(9882).A+"",width:"732",height:"420"})}),"\n",(0,i.jsx)(n.p,{children:"Exemple"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(8211).A+"",width:"741",height:"434"})}),"\n",(0,i.jsx)(n.h3,{id:"modification-de-table---alter-table",children:"MODIFICATION DE TABLE - ALTER TABLE"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ajouter une Colonne"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"ALTER TABLE Articles ADD descritpion VARCHAR(100) NOT NULL;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Modifier une colonne"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"ALTER TABLE Articles ALTER COLUMN descritpion VARCHAR(500) NULL;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Supprimer une colonne"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"ALTER TABLE Articles DROP COLUMN descritpion;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"modification-des-contraintes---alter-table",children:"MODIFICATION DES CONTRAINTES - ALTER TABLE"}),"\n",(0,i.jsx)(n.p,{children:"Sera bien adapt\xe9e pour les cl\xe9es \xe9trang\xe8res"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ajouter une Contrainte"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"ALTER TABLE Articles \r\nWITH NOCHECK\r\nADD CONSTRAINT FK_Articles_Categories\r\n   FOREIGN KEY (ide_categorie);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Supprimer une Contrainte"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"ALTER TABLE Clients DROP CONSTRAINT UN_Clients_portable;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Activer/D\xe9sactiver un contrainte (ne s'applique qu'aux contraintes de cl\xe9s \xe9trang\xe8re et de valisation) ",(0,i.jsx)(n.strong,{children:"PAS UNE BONNE PRATIQUE"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-SQL",children:"ALTER TABLE Articles NOCHECK CONSTRAINT ALL;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"les-valeurs-auto-incr\xe9ment\xe9es",children:"Les Valeurs auto-incr\xe9ment\xe9es"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Identity","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"G\xe9n\xe8re des valeurs enti\xe8res"}),"\n",(0,i.jsx)(n.li,{children:"Associ\xe9 \xe0 une colonne d'une table"}),"\n",(0,i.jsx)(n.li,{children:"Pas n\xe9cessairement mais g\xe9n\xe9ralement sur la cl\xe9 primaire"}),"\n",(0,i.jsx)(n.li,{children:"1 seul par table"}),"\n",(0,i.jsx)(n.li,{children:"Peut produire des trous dans la num\xe9rotation"}),"\n",(0,i.jsx)(n.li,{children:"D\xe9sactivable/r\xe9activable"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(292).A+"",width:"608",height:"352"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["S\xe9quence","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"G\xe9n\xe8re des valeurs enti\xe8res"}),"\n",(0,i.jsx)(n.li,{children:"Compteur d\xe9fini ind\xe9pendamment de toute table"}),"\n",(0,i.jsx)(n.li,{children:"Peut \xeatre utiliser pour g\xe9n\xe9rer des valeurs pour autre chose qu'une colonne"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"CREATION D'UNE SEQUENCE"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(165).A+"",width:"599",height:"352"})}),"\n",(0,i.jsx)(n.p,{children:"UTILISATION D'UNE SEQUENCE"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"alt text",src:s(6037).A+"",width:"608",height:"352"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},3953:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/create-table-44c5ae8ab66edbd4e6f9106da38f3f30.PNG"},4790:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/type-contrainte-f0051ab5be42267fdee2c79941a2dbdf.png"},5517:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/contrainte-1a6a6aa4b28eab71cc0da35772e036b9.PNG"},6037:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/sequence-utilisation-dfbcf39b4674712b0f169235147d2b2c.PNG"},7801:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/numerique-f3bfad1195ea0e90f58c4e3e01c7be30.PNG"},8116:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/contrainte-type-d263d79eb0510b5f19a4ef026fd6e197.PNG"},8211:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/foreign-key-exemple-68dcc532d87b7a2217e829d4cf881eeb.png"},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},9563:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/demo-numeroligne-f7dea6829defb5168d604c327f8e2c72.PNG"},9882:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/foreign-key-1226cd4f114977ff88de5ea5a6742166.png"}}]);